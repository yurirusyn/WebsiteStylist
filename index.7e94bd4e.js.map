{"mappings":"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","sources":["src/js/demo3.js"],"sourcesContent":["class ShapeOverlays {\n  constructor(elm) {\n    this.elm = elm;\n    this.path = elm.querySelectorAll('path');\n    this.numPoints = 2;\n    this.duration = 600;\n    this.delayPointsArray = [];\n    this.delayPointsMax = 0;\n    this.delayPerPath = 200;\n    this.timeStart = Date.now();\n    this.isOpened = false;\n    this.isAnimating = false;\n  }\n  toggle() {\n    this.isAnimating = true;\n    for (var i = 0; i < this.numPoints; i++) {\n      this.delayPointsArray[i] = 0;\n    }\n    if (this.isOpened === false) {\n      this.open();\n    } else {\n      this.close();\n    }\n  }\n  open() {\n    this.isOpened = true;\n    this.elm.classList.add('is-opened');\n    this.timeStart = Date.now();\n    this.renderLoop();\n  }\n  close() {\n    this.isOpened = false;\n    this.elm.classList.remove('is-opened');\n    this.timeStart = Date.now();\n    this.renderLoop();\n  }\n  updatePath(time) {\n    const points = [];\n    for (var i = 0; i < this.numPoints; i++) {\n      const thisEase = this.isOpened\n        ? i == 1\n          ? ease.cubicOut\n          : ease.cubicInOut\n        : i == 1\n        ? ease.cubicInOut\n        : ease.cubicOut;\n      points[i] =\n        thisEase(\n          Math.min(\n            Math.max(time - this.delayPointsArray[i], 0) / this.duration,\n            1\n          )\n        ) * 100;\n    }\n\n    let str = '';\n    str += this.isOpened ? `M 0 0 V ${points[0]} ` : `M 0 ${points[0]} `;\n    for (var i = 0; i < this.numPoints - 1; i++) {\n      const p = ((i + 1) / (this.numPoints - 1)) * 100;\n      const cp = p - ((1 / (this.numPoints - 1)) * 100) / 2;\n      str += `C ${cp} ${points[i]} ${cp} ${points[i + 1]} ${p} ${\n        points[i + 1]\n      } `;\n    }\n    str += this.isOpened ? `V 0 H 0` : `V 100 H 0`;\n    return str;\n  }\n  render() {\n    if (this.isOpened) {\n      for (var i = 0; i < this.path.length; i++) {\n        this.path[i].setAttribute(\n          'd',\n          this.updatePath(Date.now() - (this.timeStart + this.delayPerPath * i))\n        );\n      }\n    } else {\n      for (var i = 0; i < this.path.length; i++) {\n        this.path[i].setAttribute(\n          'd',\n          this.updatePath(\n            Date.now() -\n              (this.timeStart + this.delayPerPath * (this.path.length - i - 1))\n          )\n        );\n      }\n    }\n  }\n  renderLoop() {\n    this.render();\n    if (\n      Date.now() - this.timeStart <\n      this.duration +\n        this.delayPerPath * (this.path.length - 1) +\n        this.delayPointsMax\n    ) {\n      requestAnimationFrame(() => {\n        this.renderLoop();\n      });\n    } else {\n      this.isAnimating = false;\n    }\n  }\n}\n\n(function () {\n  const elmHamburger = document.querySelector('.hamburger');\n  const gNavItems = document.querySelectorAll('.global-menu__item');\n  const overlayGlobalMenu = document.querySelector('.global-menu');\n  const elmOverlay = document.querySelector('.shape-overlays');\n  const icon = document.querySelector('.menu-btn');\n  const overlay = new ShapeOverlays(elmOverlay);\n\n  elmHamburger.addEventListener('click', () => {\n    if (overlay.isAnimating) {\n      return false;\n    }\n    overlay.toggle();\n    if (overlay.isOpened === true) {\n      elmHamburger.classList.add('is-opened-navi');\n      icon.classList.add('menu-btn_active');\n      overlayGlobalMenu.classList.add('overlay-global_menu');\n      for (var i = 0; i < gNavItems.length; i++) {\n        gNavItems[i].classList.add('is-opened');\n      }\n    } else {\n      elmHamburger.classList.remove('is-opened-navi');\n      icon.classList.remove('menu-btn_active');\n      overlayGlobalMenu.classList.remove('overlay-global_menu');\n      for (var i = 0; i < gNavItems.length; i++) {\n        gNavItems[i].classList.remove('is-opened');\n      }\n    }\n  });\n})();\n"],"names":["_classCallCheck","instance","Constructor","ShapeOverlays","elm","this","path","querySelectorAll","numPoints","duration","delayPointsArray","delayPointsMax","delayPerPath","timeStart","Date","now","isOpened","isAnimating","key","i","open","close","classList","add","renderLoop","remove","time","points","thisEase","ease","cubicOut","cubicInOut","Math","min","max","str","concat","p","cp","length","setAttribute","updatePath","render","requestAnimationFrame","_this","elmHamburger","document","querySelector","gNavItems","overlayGlobalMenu","elmOverlay","icon","overlay","addEventListener","toggle"],"version":3,"file":"index.7e94bd4e.js.map"}